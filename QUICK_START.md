# ComprehendAI v2.0 快速开始

## ⚡ 5分钟上手指南

### 1. 基础分析（最常用）

```
右键点击函数 → ComprehendAI → 🤖 AI 智能分析
```

就这么简单！AI会自动：
- ✅ 提取函数代码和上下文信息
- ✅ 分析函数功能和逻辑
- ✅ 缓存结果以便下次查看
- ✅ 显示字符串常量和关键数值

---

### 2. 快速总结（节省Token）

```
右键点击函数 → ComprehendAI → ⚡ 快速总结
```

用2-3句话快速了解函数功能，超级快！

---

### 3. 安全审计（找漏洞）

```
右键点击函数 → ComprehendAI → 🔒 安全审计
```

AI会检查：
- 缓冲区溢出
- 整数溢出
- 空指针问题
- 不安全的API调用
- 其他安全风险

---

### 4. 识别加密算法

```
右键点击函数 → ComprehendAI → 🔍 算法识别
```

快速识别：
- AES、RSA、DES等加密算法
- MD5、SHA等哈希算法
- Base64等编码算法

---

### 5. 导出分析报告

```
分析完成后 → 右键 → ComprehendAI → 💾 导出结果
```

生成 Markdown 格式报告，包含：
- 函数信息
- 完整分析结果
- 反编译代码

导出位置：`IDA插件目录/comprehendai_exports/`

---

## 🎯 常用操作组合

### 组合1：快速浏览代码

```
1. 对每个函数使用 "⚡ 快速总结"
2. 感兴趣的函数使用 "🤖 AI 智能分析"
3. 启用缓存，重复查看秒开
```

### 组合2：安全审计

```
1. 启用自动导出 (📤)
2. 对所有函数使用 "🔒 安全审计"
3. 对高风险函数使用 "🐛 漏洞扫描"
4. 整理 exports/ 目录的报告
```

### 组合3：加密分析

```
1. 使用 "🔍 算法识别" 识别算法
2. 使用 "🤖 AI 智能分析" 了解详情
3. 使用 "💬 带代码提问" 询问具体问题
   例如："这个AES实现是否安全？"
```

---

## ⚙️ 常用设置

### 设置分析深度

```
右键 → ComprehendAI → ⚙️ 分析深度

推荐设置：
- 快速浏览：深度 0 或 1
- 正常分析：深度 2（默认）
- 深入分析：深度 3
```

### 启用/禁用缓存

```
右键 → ComprehendAI → 🔄 切换缓存

推荐：默认启用（节省API费用）
```

### 自动导出报告

```
右键 → ComprehendAI → 📤 自动导出

推荐：批量分析时启用
```

---

## 💡 实用技巧

### 技巧1：利用缓存节省费用

✅ 默认启用缓存  
✅ 重复查看函数秒开  
✅ 大幅节省API调用费用  

### 技巧2：选对模板很重要

| 需求 | 使用模板 | 原因 |
|-----|---------|------|
| 不了解代码 | ⚡ 快速总结 | 快速了解 |
| 详细分析 | 🤖 AI 智能分析 | 全面分析 |
| 找漏洞 | 🔒 安全审计 | 专业检测 |
| 识别算法 | 🔍 算法识别 | 专门识别 |

### 技巧3：善用自定义提问

```
💬 带代码提问，例如：
- "这个函数有什么优化空间？"
- "这段代码的性能瓶颈在哪里？"
- "如何绕过这个检测？"
- "这个函数可能的输入是什么？"
```

---

## 🚨 注意事项

### ⚠️ 分析深度影响Token消耗

```
深度 0: 只分析当前函数      → Token少
深度 1: 包含直接子函数      → Token中等
深度 2: 包含两层子函数      → Token较多 (默认)
深度 3+: 深度递归分析       → Token大量
```

**建议**：首次分析使用深度1或2，需要时再增加

### ⚠️ 缓存何时需要清空

- 代码修改后
- 更换分析模板后
- 自定义提示词后
- 缓存结果不准确时

```
右键 → ComprehendAI → 🗑️ 清空缓存
```

---

## 📋 完整菜单速查

```
🤖 AI 智能分析          - 标准全面分析
🔒 安全审计              - 安全漏洞检测
🐛 漏洞扫描              - 深度漏洞挖掘
🔍 算法识别              - 识别加密算法
⚡ 快速总结              - 2-3句话总结

💬 带代码提问            - 结合代码提问
💭 直接提问              - 不带代码提问

💾 导出结果              - 导出Markdown报告
📤 自动导出              - 自动导出开关

🔄 切换缓存              - 缓存功能开关
🗑️ 清空缓存              - 清除所有缓存

⚙️ 分析深度              - 设置递归深度
📝 自定义提示词          - 自定义模板

🛑 停止                  - 停止当前任务
```

---

## 🎓 学习路径

### 初级（第1天）

1. 安装配置插件
2. 使用 "⚡ 快速总结" 浏览代码
3. 使用 "🤖 AI 智能分析" 深入了解
4. 学会 "💾 导出结果"

### 中级（第2-3天）

1. 理解分析深度的影响
2. 使用 "🔒 安全审计" 和 "🐛 漏洞扫描"
3. 使用 "🔍 算法识别" 
4. 善用 "💬 带代码提问"

### 高级（第4-5天）

1. 自定义提示词模板
2. 组合使用多种分析模板
3. 利用缓存优化工作流
4. 批量分析+自动导出

---

## 📊 效率对比

### 传统方式 vs ComprehendAI

| 任务 | 传统方式 | 使用插件 | 节省时间 |
|-----|---------|---------|---------|
| 理解函数功能 | 10-30分钟 | 30秒-2分钟 | ⚡ 90%+ |
| 安全审计 | 1-2小时 | 5-10分钟 | ⚡ 95%+ |
| 识别加密算法 | 30分钟-数小时 | 1-3分钟 | ⚡ 95%+ |
| 生成分析报告 | 手动整理30分钟 | 一键导出 | ⚡ 100% |

---

## 🆘 遇到问题？

### 常见问题快速解决

**Q: 插件加载失败？**  
A: 检查 config.json 是否正确配置

**Q: 分析速度慢？**  
A: 降低分析深度，使用快速总结模板

**Q: 找不到导出的文件？**  
A: 查看 `IDA插件目录/comprehendai_exports/`

**Q: 缓存的结果不对？**  
A: 清空缓存 (🗑️) 重新分析

**Q: Token消耗太多？**  
A: 
1. 启用缓存
2. 降低分析深度
3. 多用快速总结

---

## 🎯 最佳实践

### ✅ 推荐做法

1. **默认启用缓存** - 节省费用
2. **先快速总结，再详细分析** - 提高效率
3. **对重要函数导出结果** - 便于后续参考
4. **合理设置分析深度** - 平衡效果和成本
5. **善用专业模板** - 针对性分析

### ❌ 不推荐做法

1. ❌ 对所有函数都用深度3分析（浪费Token）
2. ❌ 禁用缓存重复分析（浪费钱）
3. ❌ 不导出重要发现（容易遗忘）
4. ❌ 不看上下文信息就提问（效果差）

---

## 🚀 开始使用

1. **确保配置正确**
   ```json
   {
       "openai": {
           "model": "gpt-4",
           "api_key": "your_key",
           "base_url": "https://api.openai.com/v1"
       }
   }
   ```

2. **打开IDA Pro**
   - 加载二进制文件
   - 右键点击任意函数
   - 选择 ComprehendAI 菜单

3. **开始分析**
   - 第一次：使用 "⚡ 快速总结"
   - 感兴趣：使用 "🤖 AI 智能分析"
   - 特殊需求：选择专业模板

---

## 📚 更多资源

- [完整使用手册](./README_CN.md)
- [新功能详解](./NEW_FEATURES.md)
- [升级指南](./UPGRADE_GUIDE.md)
- [代码优化说明](./OPTIMIZATION_NOTES.md)

---

**祝您分析愉快！** 🎉

*如有问题，欢迎提交 Issue*

